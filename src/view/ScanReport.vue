<template>
    <div class=" pt-32 px-10 lg:px-20   w-full relative xl:px-20">
        <div class="pb-4">
            <h1 class="font-semibold text-xl">Scan Report</h1>
            <p class="text-sm text-gray-500">{{ currentDay() }}</p>
        </div>

        <div class="bg-img flex flex-col md:flex-row gap-10 p-8 rounded-xl">
            <div class="md:w-1/4">
                <div>
                    <div class="flex items-center gap-3">
                        <span class="before:block before:w-2 before:h-2 before:bg-red-500 before:rounded-full"></span>
                        <p class="font-semibold text-lg">Security Overview</p>
                    </div>
                    <p class="pl-6 pt-1 flex text-sm lg:text-base">
                        Diagram berikut menunjukkan tingkat keamanan cyber dari website anda. Nilai berikut diambil
                        berdasarkan keseluruhan aspek dan fitur yang ada.
                    </p>
                </div>
                <div class="pt-7">
                    <div class="flex items-center gap-3">
                        <span class="before:block before:w-2 before:h-2 before:bg-red-500 before:rounded-full"></span>
                        <p class="font-semibold text-lg">Target</p>
                    </div>
                    <p class="pl-6 pt-1 text-sm lg:text-base">{{ store.resultInfo.domain }}</p>
                </div>
            </div>

        <div class="md:w-1/3 flex justify-center">
            <DonutChart />
        </div>

            <div class="md:w-1/2 grid grid-cols-2 gap-4">
                <CardReport v-for="(item, index) in cardData" :key="index" :label="item.label" :value="item.value"
                    :gradientColor="item.gradientColor" class="flex flex-col" />
            </div>
        </div>
    </div>
</template>

<script>
import { ref, onMounted } from "vue";
import CardReport from "../components/Card/CardReport.vue";
import DonutChart from "../components/Chart/DonutChart.vue"
import { useResult } from '../store/index'

export default {
    components: {
        CardReport,
        DonutChart,
    },

    data() {
        const store = useResult()
        return {
            store,
            chartData: null,
            chartOptions: null,
            cardData: [
                { label: "Critical", value: "40", gradientColor: "from-red-400 via-transparent to-transparent" },
                { label: "High", value: "5", gradientColor: "from-orange-300 via-transparent to-transparent" },
                { label: "Medium", value: "23", gradientColor: "from-yellow-300 via-transparent to-transparent" },
                { label: "Low", value: "0", gradientColor: "from-green-500 via-transparent to-transparent" },
                { label: "Information", value: "0", gradientColor: "from-gray-400 via-transparent to-transparent" },
            ], 
        };
    },
    methods: {
        currentDay(){
            return new Date().toDateString()
        }
    }
};
</script>