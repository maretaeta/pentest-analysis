<template>
    <div class="py-16 px-10 lg:px-20   w-full relative xl:px-20">
        <div class="pb-4">
            <div class="flex gap-2">
                <h1 class="font-semibold text-xl">Listed Directories</h1>
                <vue-feather type="help-circle" size="18" class="text-gray-400 p-1" />
            </div>
            <p class="text-sm text-gray-500">Terdapat <b>{{ allRows.length }}</b> Directories</p>
        </div>
        <div class="gap-7 w-full">
            <div class="w-full bg-white shadow-sm rounded-xl">
                <table class="min-w-full">
                    <tbody>
                        <tr v-for="(row, index) in visibleRows" :key="index">
                            <td class="py-4 px-6 border-b flex gap-2 items-center">
                                <vue-feather type="folder" size="18" class="p-1 text-amber-600 bg-amber-50" />
                                {{ row[0] }}</td>
                        </tr>
                    </tbody>
                </table>
                    <div v-if="showMoreButton" @click="toggleShowMoreRows" class="flex gap-2 p-4 justify-center items-center w-full text-blue-500">
                        <p>{{ showMoreRows ? 'Lebih banyak' : 'Lebih sedikit' }}</p>
                        <vue-feather :type="showMoreRows ? 'chevron-down' : 'chevron-up'" size="18" class="p-1 rotate-icon" />
                    </div>
                </div>
            <div class="">
                <InformationCard />
            </div>
        </div>
    </div>
</template>

<script>
import VueFeather from "vue-feather";
import InformationCard from "../components/Card/InformationCard.vue";

export default {
    data() {
        return {
            showMoreRows: true,
            allRows: [
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
                ["apps.widyawicara.com"],
            ],
            visibleRows: [],
            rowsPerPage: 5,
        };
    },

    computed: {
        visibleRows() {
            return this.showMoreRows ? this.allRows.slice(0, this.rowsPerPage) : this.allRows.slice();
        },
        showMoreButton() {
            return this.allRows.length > this.visibleRows.length;
        },
        buttonText() {
            return this.showMoreRows ? 'Lebih banyak' : 'Lebih sedikit';
        },
    },

    methods: {
           toggleShowMoreRows() {
            this.showMoreRows = !this.showMoreRows;
            const icon = document.querySelector('.rotate-icon');
            if (icon) {
                icon.classList.toggle('rotate180', !this.showMoreRows);
            }
        },
    },

    mounted() {
        this.visibleRows = this.allRows.slice(0, this.rowsPerPage);
    },

    

    components: {
        VueFeather,
        InformationCard,
    },
};
</script>