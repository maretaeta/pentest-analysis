import { createStore } from 'vuex'
import axiosInstance from "../lib/";

export default createStore({
    state: {
        data: {}
    },
    mutations: {
        getData(state, data){
            state.data = data
        }
    },
    actions: {
        async getData(context, { domain }) {
            await axiosInstance.post('/scan/', {
                domain
            })
            .then(res => res.data)
            .then( data => {
                context.commit('getData', data)
                console.log(data)
            })
            .catch(err => {
                console.log(err)
            })
        }
    }
})